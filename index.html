<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>B for N</title>
<link rel="icon" type="image/png" href="heart.png"> <!-- favicon coeur -->
<style>
:root{--accent:#ff5c5c}
html,body{height:100%;margin:0}
body{
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial;
  background:#000;
  color:#fff;
  overflow:hidden;
}

.bg-img{
  position:fixed;inset:0;width:100%;height:100%;object-fit:cover;display:block;z-index:0;
  opacity:0; transition:opacity 1.5s ease;
}
body.revealed .bg-img{opacity:1;}

.ui-layer{
  position:relative;z-index:2;height:100%;width:100%;
  opacity:0;transition:opacity 1.5s ease;
}
body.revealed .ui-layer{opacity:1;}

.bottom-icon{
  position:absolute;top:63%;left:50%;transform:translate(-50%,-50%);
  display:flex;align-items:center;justify-content:center;
  width:75px;
  height:75px;
  border-radius:50%;
  background:var(--accent);
  border:2px solid rgba(255,255,255,.2);
  box-shadow:0 0 30px rgba(92,52,52,1), 0 0 60px rgba(92,52,52,0.8);
  cursor:pointer;z-index:3;
  transition:transform 0.2s ease;
}
.bottom-icon:hover{transform:translate(-50%,-50%) scale(1.08);}
.bottom-icon svg{width:35px;height:35px;fill:#fff;}

.autoplay-hint{
  position:fixed;left:50%;transform:translateX(-50%);bottom:30px;
  background:rgba(0,0,0,.55);color:#fff;padding:8px 12px;
  border-radius:999px;font-size:13px;backdrop-filter:blur(4px);
  display:none;z-index:1000
}

/* Texte TOUCH TO REVEAL ajusté */
#introOverlay{
  position:fixed;
  inset:0;
  background:#000;
  z-index:10000;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:opacity 1.5s ease; 
  color:#fff; 
  font-size:36px;          /* taille réduite */
  font-weight:700;         /* gras moins extrême */
  font-family: 'Arial Black', Arial, sans-serif;
  letter-spacing:2px;
  cursor:pointer;
  text-align:center;
  text-shadow:
    0 0 5px #fff,
    0 0 10px #fff,
    0 0 15px #fff;          /* glow plus subtil */
}
#introOverlay.hidden{opacity:0;pointer-events:none;}

.waveform {
  position:absolute;top:85%;left:50%;transform:translateX(-50%);
  display:flex;gap:12px;height:60px;align-items:flex-end;z-index:3;
  opacity:0;transition:opacity .5s ease;
}
.waveform .bar {
  width:10px;background:var(--accent);
  animation: bounce 1.2s infinite ease-in-out;
  border-radius:3px;
  box-shadow:0 0 20px rgba(92,52,52,1),0 0 40px rgba(92,52,52,0.8);
}
.waveform .bar:nth-child(1){animation-delay:0s}
.waveform .bar:nth-child(2){animation-delay:.1s}
.waveform .bar:nth-child(3){animation-delay:.2s}
.waveform .bar:nth-child(4){animation-delay:.3s}
.waveform .bar:nth-child(5){animation-delay:.4s}
.waveform .bar:nth-child(6){animation-delay:.5s}
.waveform .bar:nth-child(7){animation-delay:.6s}
.waveform .bar:nth-child(8){animation-delay:.7s}
.waveform .bar:nth-child(9){animation-delay:.8s}
.waveform .bar:nth-child(10){animation-delay:.9s}
.waveform .bar:nth-child(11){animation-delay:1s}
.waveform .bar:nth-child(12){animation-delay:1.1s}
.waveform .bar:nth-child(13){animation-delay:1.2s}
.waveform .bar:nth-child(14){animation-delay:1.3s}
.waveform .bar:nth-child(15){animation-delay:1.4s}
@keyframes bounce {0%,100%{height:20px;}50%{height:60px;}}
.waveform.active {opacity:1;}

.page-transition{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:#000;z-index:20000;
  transform:translateY(-100%);
  transition:transform 1s ease-in-out;
}
.page-transition.active { transform:translateY(0); }

#newPage{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:#000; z-index:5000;
  display:flex;align-items:center;justify-content:center;
  opacity:0;
  transition:opacity 1s ease;
  pointer-events:none;
}
#newPage.visible{
  opacity:1;
  pointer-events:auto;
}
#newPage img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* Bouton cœur avec glow */
.heart-button{
  position:absolute;top:20px;left:20px;
  width:50px; height:50px;
  cursor:pointer;
  z-index:100;
}
.heart-button svg{
  width:100%; height:100%;
  fill:var(--accent);
  filter: drop-shadow(0 0 8px var(--accent));
  transition:transform 0.2s ease, filter 0.2s ease;
}
.heart-button:hover svg{
  transform:scale(1.1);
  filter: drop-shadow(0 0 15px var(--accent)) drop-shadow(0 0 15px #fff);
}
</style>
</head>
<body>
<div id="introOverlay">TOUCH TO REVEAL</div>

<img src="C:/Users/Administrateur/Desktop/mylove/nono.png" alt="Affiche plein écran" class="bg-img"/>

<div class="ui-layer" id="uiLayer">
  <div class="autoplay-hint" id="autoplayHint">Le son n'a pas pu démarrer automatiquement. Appuyez sur l'icône pour activer le son.</div>
  
  <button class="bottom-icon" id="audioToggle" aria-label="Activer ou désactiver le son">
    <svg id="iconSvg" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"></path></svg>
  </button>
  
  <div class="waveform" id="waveform">
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
  </div>
  
  <!-- Bouton cœur sur la première page -->
  <div class="heart-button" id="firstHeart" title="Voir la deuxième image">
    <svg viewBox="0 0 24 24">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
    </svg>
  </div>
</div>

<div id="newPage">
  <!-- Bouton cœur sur la deuxième page -->
  <div class="heart-button" id="backButton" title="Retour à la première page">
    <svg viewBox="0 0 24 24">
      <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
    </svg>
  </div>
  <img src="C:/Users/Administrateur/Desktop/mylove/momo.png" alt="Nouvelle Image">
</div>

<audio id="bgAudio" preload="auto" loop>
  <source src="C:/Users/Administrateur/Desktop/mylove/Elle t’a tué - Alonzo (instrumental).mp3" type="audio/mpeg">
</audio>

<script>
(function(){
  const audio = document.getElementById('bgAudio');
  const toggle = document.getElementById('audioToggle');
  const icon = document.getElementById('iconSvg');
  const hint = document.getElementById('autoplayHint');
  const intro = document.getElementById('introOverlay');
  const waveform = document.getElementById('waveform');
  const firstHeart = document.getElementById('firstHeart');
  const newPage = document.getElementById('newPage');
  const backButton = document.getElementById('backButton');

  function setSafeVolume(v){ audio.volume = Math.min(0.4, Math.max(0, v)); }
  function updateIcon(isPlaying){
    if(isPlaying){ icon.innerHTML = '<path d="M6 4l12 8-12 8z"></path>'; waveform.classList.add('active'); }
    else { icon.innerHTML = '<path d="M6 4h4v12H6zM14 4h4v12h-4z"></path>'; waveform.classList.remove('active'); }
  }
  setSafeVolume(0.4);

  function tryAutoplay(){
    const p = audio.play();
    if(p!==undefined){
      p.then(()=>{ updateIcon(true); hint.style.display='none'}).catch(()=>{ updateIcon(false); hint.style.display='block';});
    }
  }

  toggle.addEventListener('click', ()=>{
    if(audio.paused){ setSafeVolume(0.4); audio.play().then(()=>{ updateIcon(true); hint.style.display='none'}).catch(()=>{ updateIcon(false); hint.style.display='block'}); }
    else { audio.pause(); updateIcon(false); }
  });

  intro.addEventListener('click', ()=>{
    document.body.classList.add('revealed');
    intro.classList.add('hidden');
    tryAutoplay();
  });

  firstHeart.addEventListener('click', ()=>{
    newPage.classList.add('visible');
  });

  backButton.addEventListener('click', ()=>{
    newPage.classList.remove('visible');
  });

  updateIcon(!audio.paused && !audio.ended);
})();
</script>
</body>
</html>
